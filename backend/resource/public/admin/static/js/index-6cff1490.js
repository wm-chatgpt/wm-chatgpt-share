import{u as e,f as a,b as s}from"./browser-564f0c02.js";import"./vue-echarts-bffdbdc9.js";import"./element-plus-cc31d756.js";import"./store-acbd10e3.js";import"./index-dd9d36be.js";import{u as l}from"./index-a1c3173c.js";import{b as t,y as n}from"./lodash-es-fd5b777b.js";import{d as o,q as r,W as i,o as u,c,I as p,J as d,F as m,U as f,N as v,e as _,b as h,M as b,a as j,al as k,ak as g,x as y,h as x,K as w,p as C,L as I,$ as M}from"./@vue.runtime-core-6173334e.js";import{u as z,r as P}from"./@vue.reactivity-54707199.js";import{L as F,p as S}from"./@vue.shared-0cc4c744.js";import{_ as N}from"./_plugin-vue_export-helper-1b428a4d.js";import{_ as L}from"./logo-d7900de4.js";import{v as $,w as B,T as W}from"./@vue.runtime-dom-532828a1.js";import{a0 as q,a1 as E,d as O}from"./@element-plus.icons-vue-2c9f4d7f.js";import{i as T}from"./index.umd.min-b551c2d1.js";import"./monaco-editor-89e755bd.js";import"./axios-bb93cf32.js";import"./nprogress-27d9be10.js";import"./vue-router-25454f45.js";import"./@vueuse.core-cb7ad152.js";import"./@vueuse.shared-feb01f08.js";import"./pinia-77f7f468.js";import"./vue-demi-71ba0ef2.js";import"./mockjs-005b47e8.js";import"./resize-detector-2312ef2b.js";import"./echarts-e550b62f.js";import"./tslib-a4e99503.js";import"./zrender-f72fb7be.js";import"./@popperjs.core-b696b006.js";import"./@ctrl.tinycolor-a951068a.js";import"./dayjs-f8876307.js";import"./async-validator-ff95bfc9.js";import"./memoize-one-63ab667a.js";import"./escape-html-1935ddb3.js";import"./normalize-wheel-es-3222b0a2.js";import"./@floating-ui.dom-92665be4.js";import"./@floating-ui.core-c1b3624a.js";import"./vue-21f38777.js";const A={class:"route-nav"},D={key:0,class:"title"},G=o({name:"route-nav"}),H=N(o({...G,setup(a){const{route:s,browser:o}=l(),{menu:_}=e(),h=r((()=>t(_.group.map((function e(a){if("/"===s.path)return!1;if(a.path==s.path)return a;if(a.children){const s=a.children.map(e).find(Boolean);return!!s&&[a,s]}return!1})).filter(Boolean)))),b=r((()=>{var e;return null==(e=n(h.value))?void 0:e.name}));return(e,a)=>{const s=i("el-breadcrumb-item"),l=i("el-breadcrumb");return u(),c("div",A,[z(o).isMini?(u(),c("p",D,F(z(b)),1)):(u(),p(l,{key:1},{default:d((()=>[(u(!0),c(m,null,f(z(h),((e,a)=>(u(),p(s,{key:a},{default:d((()=>{var a;return[v(F((null==(a=e.meta)?void 0:a.label)||e.name),1)]})),_:2},1024)))),128))])),_:1}))])}}}),[["__scopeId","data-v-0b3d14ae"]]),J={class:"a-menu"},K={class:"a-menu__name"},R=o({name:"a-menu"}),U=N(o({...R,setup(a){const{router:s,route:t}=l(),{menu:n}=e(),o=P("");function r(e){n.setMenu(e);const a=n.getPath(n.group[e].children);s.push(a)}return _((function(){function e(a,s){switch(a.type){case 0:a.children.forEach((a=>{e(a,s)}));break;case 1:t.path.includes(a.path)&&(o.value=String(s),n.setMenu(s))}}n.group.forEach(((a,s)=>{e(a,s)}))})),(e,a)=>{const s=i("cl-svg"),l=i("el-menu-item"),t=i("el-menu");return u(),c("div",J,[h(t,{"default-active":o.value,mode:"horizontal","background-color":"transparent",onSelect:r},{default:d((()=>[(u(!0),c(m,null,f(z(n).group,((e,a)=>(u(),p(l,{key:a,index:`${a}`},{default:d((()=>[e.icon?(u(),p(s,{key:0,name:e.icon,size:18},null,8,["name"])):b("",!0),j("span",K,F(e.name),1)])),_:2},1032,["index"])))),128))])),_:1},8,["default-active"])])}}}),[["__scopeId","data-v-249ef8fc"]]),Q=e=>(k("data-v-588312f8"),e=e(),g(),e),V={class:"app-topbar"},X=[Q((()=>j("i",{class:"cl-iconfont cl-icon-fold"},null,-1)))],Y=Q((()=>j("div",{class:"flex1"},null,-1))),Z={class:"app-topbar__tools"},ee={key:0,class:"app-topbar__user"},ae={class:"el-dropdown-link"},se={class:"name"},le=["src"],te=Q((()=>j("i",{class:"cl-iconfont cl-icon-user"},null,-1))),ne=Q((()=>j("span",null,"个人中心",-1))),oe=Q((()=>j("i",{class:"cl-iconfont cl-icon-exit"},null,-1))),re=Q((()=>j("span",null,"退出",-1))),ie=o({name:"topbar"}),ue=N(o({...ie,setup(a){const{router:s,service:t}=l(),{user:n,app:o}=e();async function r(e){switch(e){case"my":s.push("/my/info");break;case"exit":await t.base.comm.logout(),n.logout()}}return(e,a)=>{const s=i("cl-chat"),l=i("cl-theme"),t=i("el-dropdown-item"),f=i("el-dropdown-menu"),v=i("el-dropdown");return u(),c(m,null,[z(o).info.menu.isGroup?(u(),p(U,{key:0})):b("",!0),j("div",V,[j("div",{class:S(["app-topbar__collapse",{unfold:!z(o).isFold}]),onClick:a[0]||(a[0]=e=>z(o).fold())},X,2),h(H),Y,j("ul",Z,[j("li",null,[h(s)]),j("li",null,[h(l)])]),z(n).info?(u(),c("div",ee,[h(v,{trigger:"click","hide-on-click":"",onCommand:r},{dropdown:d((()=>[h(f,null,{default:d((()=>[h(t,{command:"my"},{default:d((()=>[te,ne])),_:1}),h(t,{command:"exit"},{default:d((()=>[oe,re])),_:1})])),_:1})])),default:d((()=>[j("span",ae,[j("span",se,F(z(n).info.nickName),1),j("img",{class:"avatar",src:z(n).info.headImg},null,8,le)])])),_:1})])):b("",!0)])],64)}}}),[["__scopeId","data-v-588312f8"]]);const ce=o({name:"b-menu",setup(){const{router:e,route:s,browser:t}=l(),{menu:n,app:o}=a();function r(a){a!=s.path&&e.push(a),t.isMini&&o.fold(!0)}return()=>{let e;return h("div",{class:"app-slider__menu"},[h(i("el-menu"),{"default-active":s.path,"background-color":"transparent","collapse-transition":!0,collapse:!t.isMini&&o.isFold,onSelect:r},(a=e=function e(a,s){return a.filter((e=>e.isShow)).map((a=>{let l=null;return l=0==a.type?x(h(i("el-sub-menu"),null,null),{index:String(a.id),key:a.id,popperClass:"app-slider__menu"},{title:()=>h("div",{class:"wrap"},[h(i("cl-svg"),{name:a.icon},null),w(h("span",null,[a.name]),[[$,!o.isFold||1!=s]])]),default:()=>e(a.children||[],s+1)}):x(h(i("el-menu-item"),null,null),{index:a.path,key:a.id},{default:()=>h("div",{class:"wrap"},[h(i("cl-svg"),{name:a.icon},null),w(h("span",null,[a.name]),[[$,!o.isFold||1!=s]])])}),l}))}(n.list,1),"function"==typeof a||"[object Object]"===Object.prototype.toString.call(a)&&!y(a)?e:{default:()=>[e]}))]);var a}}}),pe={class:"app-slider"},de=j("img",{src:L},null,-1),me={key:0},fe={class:"app-slider__container"},ve=o({name:"undefined"}),_e=o({...ve,setup(a){const{browser:l}=s(),{app:t}=e();function n(){location.href=""}return(e,a)=>(u(),c("div",pe,[j("div",{class:"app-slider__logo",onClick:n},[de,!z(t).isFold||z(l).isMini?(u(),c("span",me,F(z(t).info.name),1)):b("",!0)]),j("div",fe,[h(z(ce))])]))}}),he=e=>(k("data-v-21229a41"),e=e(),g(),e),be={class:"app-process"},je=he((()=>j("span",null,"首页",-1))),ke=he((()=>j("span",null,"后退",-1))),ge=["data-index","onClick","onContextmenu"],ye=o({name:"undefined"}),xe=N(o({...ye,setup(a){const{refs:s,setRefs:t,route:o,router:r}=l(),{process:p}=e();function v(){if(!p.list.find((e=>e.active))){const e=n(p.list);r.push(e?e.fullPath:"/")}}function _(e){const a=s[`item-${e}`];var l;a&&(l=a.offsetLeft+a.clientWidth-s.scroller.clientWidth,s.scroller.scrollTo({left:l,behavior:"smooth"}))}function b(e){p.remove(e),v()}return C((()=>o.path),(function(e){_(p.list.findIndex((a=>a.fullPath===e))||0)})),(e,a)=>{const s=i("el-icon"),l=i("el-scrollbar");return u(),c("div",be,[j("div",{class:"app-process__icon",onClick:a[0]||(a[0]=e=>z(r).push("/"))},[h(s,{size:"15"},{default:d((()=>[h(z(q))])),_:1}),je]),j("div",{class:"app-process__icon",onClick:a[1]||(a[1]=(...e)=>z(r).back&&z(r).back(...e))},[h(s,{size:15},{default:d((()=>[h(z(E))])),_:1}),ke]),h(l,{ref:z(t)("scroller"),class:"app-process__scroller"},{default:d((()=>[(u(!0),c(m,null,f(z(p).list,((e,a)=>{var l;return u(),c("div",{key:a,ref_for:!0,ref:z(t)(`item-${a}`),class:S(["app-process__item",{active:e.active}]),"data-index":a,onClick:s=>function(e,a){_(a),r.push(e.fullPath)}(e,Number(a)),onContextmenu:B((a=>function(e,a){T.ContextMenu.open(e,{list:[{label:"关闭当前",hidden:a.fullPath!==o.path,callback(e){b(p.list.findIndex((e=>e.fullPath==a.fullPath))),e(),v()}},{label:"关闭其他",callback(e){p.set(p.list.filter((e=>e.fullPath==a.fullPath))),e(),v()}},{label:"关闭所有",callback(e){p.clear(),e(),v()}}]})}(a,e)),["stop","prevent"])},[j("span",null,F((null==(l=e.meta)?void 0:l.label)||e.name||e.path),1),h(s,{onMousedown:B((e=>b(Number(a))),["stop"])},{default:d((()=>[h(z(O))])),_:2},1032,["onMousedown"])],42,ge)})),128))])),_:1},512)])}}}),[["__scopeId","data-v-21229a41"]]),we={class:"app-views"},Ce=o({name:"undefined"}),Ie=N(o({...Ce,setup(a){const{process:s,app:l}=e(),t=r((()=>s.list.filter((e=>{var a;return null==(a=e.meta)?void 0:a.keepAlive})).map((e=>e.path.substring(1,e.path.length).replace(/\//g,"-")))));return(e,a)=>{const s=i("el-scrollbar"),n=i("router-view");return u(),c("div",we,[h(n,null,{default:d((({Component:e})=>[h(s,null,{default:d((()=>[h(W,{name:z(l).info.router.transition},{default:d((()=>[(u(),p(M,{include:z(t)},[(u(),p(I(e)))],1032,["include"]))])),_:2},1032,["name"])])),_:2},1024)])),_:1})])}}}),[["__scopeId","data-v-ee2133bb"]]),Me={class:"app-layout__left"},ze={class:"app-layout__right"},Pe=o({name:"undefined"}),Fe=N(o({...Pe,setup(a){const{app:s}=e();return(e,a)=>(u(),c("div",{class:S(["app-layout",{collapse:z(s).isFold}])},[j("div",{class:"app-layout__mask",onClick:a[0]||(a[0]=e=>z(s).fold(!0))}),j("div",Me,[h(_e)]),j("div",ze,[h(ue),h(xe),h(Ie)])],2))}}),[["__scopeId","data-v-160c543f"]]);export{Fe as default};
