import{i as e}from"./index.umd.min-b551c2d1.js";import{v as o,z as a}from"./lodash-es-fd5b777b.js";import{a as t}from"./element-plus-cc31d756.js";import{d as i,p as s,b as l,W as r}from"./@vue.runtime-core-6173334e.js";import{r as u}from"./@vue.reactivity-54707199.js";import"./axios-bb93cf32.js";import"./vue-21f38777.js";import"./@vue.runtime-dom-532828a1.js";import"./@vue.shared-0cc4c744.js";import"./@vueuse.core-cb7ad152.js";import"./@vueuse.shared-feb01f08.js";import"./@element-plus.icons-vue-2c9f4d7f.js";import"./@popperjs.core-b696b006.js";import"./@ctrl.tinycolor-a951068a.js";import"./dayjs-f8876307.js";import"./async-validator-ff95bfc9.js";import"./memoize-one-63ab667a.js";import"./escape-html-1935ddb3.js";import"./normalize-wheel-es-3222b0a2.js";import"./@floating-ui.dom-92665be4.js";import"./@floating-ui.core-c1b3624a.js";const m=i({name:"cl-switch",props:{scope:null,column:null,modelValue:[Number,String,Boolean],api:Function,activeValue:{type:[Number,String,Boolean],default:!0},inactiveValue:{type:[Number,String,Boolean],default:!1}},emits:["update:modelValue","change"],setup(i,{emit:m}){const p=e.useCrud(),n=u();function c(e){var a;if(i.column&&i.scope){const s={...i.scope,[i.column.property]:e},l=o(i.api)?i.api(s):null==(a=p.value)?void 0:a.service.update(s);l&&l.then((()=>{t.success("更新成功"),m("update:modelValue",e),m("change",e)})).catch((e=>{t.error(e.message)}))}else m("update:modelValue",e),m("change",e)}return s((()=>i.modelValue),(e=>{a(i.activeValue)?n.value=Boolean(e):n.value=e}),{immediate:!0}),()=>l(r("el-switch"),{modelValue:n.value,"onUpdate:modelValue":e=>n.value=e,"active-value":i.activeValue,"inactive-value":i.inactiveValue,onChange:c},null)}});export{m as default};
