import{i as e}from"./index.umd.min-b551c2d1.js";import"./browser-564f0c02.js";import"./vue-echarts-bffdbdc9.js";import{a as o,b as r}from"./element-plus-cc31d756.js";import"./store-acbd10e3.js";import"./index-dd9d36be.js";import{u as t}from"./index-a1c3173c.js";import s from"./FKArkos-486bd24e.js";import{d as l,W as p,o as a,I as i,J as n,b as m}from"./@vue.runtime-core-6173334e.js";import"./axios-bb93cf32.js";import"./vue-21f38777.js";import"./@vue.runtime-dom-532828a1.js";import"./@vue.shared-0cc4c744.js";import"./@vue.reactivity-54707199.js";import"./monaco-editor-89e755bd.js";import"./nprogress-27d9be10.js";import"./lodash-es-fd5b777b.js";import"./vue-router-25454f45.js";import"./@vueuse.core-cb7ad152.js";import"./@vueuse.shared-feb01f08.js";import"./pinia-77f7f468.js";import"./vue-demi-71ba0ef2.js";import"./mockjs-005b47e8.js";import"./resize-detector-2312ef2b.js";import"./echarts-e550b62f.js";import"./tslib-a4e99503.js";import"./zrender-f72fb7be.js";import"./@element-plus.icons-vue-2c9f4d7f.js";import"./@popperjs.core-b696b006.js";import"./@ctrl.tinycolor-a951068a.js";import"./dayjs-f8876307.js";import"./async-validator-ff95bfc9.js";import"./memoize-one-63ab667a.js";import"./escape-html-1935ddb3.js";import"./normalize-wheel-es-3222b0a2.js";import"./@floating-ui.dom-92665be4.js";import"./@floating-ui.core-c1b3624a.js";import"./_plugin-vue_export-helper-1b428a4d.js";const u=l({components:{FKArkos:s},data:()=>({publicKey:"0A1D34FC-659D-4E23-B17B-694DCFCF6A6C",arkoseToken:""}),methods:{onCompleted(e){o({message:"人机验证已完成.",type:"success"}),localStorage.setItem("arkoseToken",e),this.arkoseToken=e},onError(e){r.alert("加载人机验证失败,请刷新页面重试!",e.error.error,{confirmButtonText:"OK"})},onSubmit(){this.arkoseToken||window.myEnforcement.run()}}}),c=l({...u,__name:"session",setup(o){const{service:r}=t(),l=e.useUpsert({items:[{label:"排序",prop:"sort",component:{name:"el-input-number"}},{label:"车号",prop:"carID",required:!0,component:{name:"el-input"}},{label:"邮箱",prop:"email",required:!0,component:{name:"el-input"}},{label:"密码",prop:"password",required:!0,component:{name:"el-input"}},{label:"状态",prop:"status",component:{name:"el-switch",props:{activeValue:1,inactiveValue:0}}},{label:"PLUS",prop:"isPlus",component:{name:"el-switch",props:{activeValue:1,inactiveValue:0}}},{label:"session",prop:"officialSession",component:{name:"el-input",props:{type:"textarea",rows:4}}},{label:"备注",prop:"remark",component:{name:"el-input",props:{type:"textarea",rows:4}}}],onOpened(e){e.carID||(e.carID=Math.random().toString(36).substring(2,10)),e.sort||(e.sort=0),localStorage.removeItem("arkoseToken"),window.myEnforcement.run()},onSubmit(e,{done:o,close:r,next:t}){let s=localStorage.getItem("arkoseToken");s?(t({...e,arkoseToken:s}),o(),r()):(alert("请刷新页面，重新验证"),o())}}),u=e.useTable({columns:[{type:"selection"},{label:"id",prop:"id"},{label:"创建时间",prop:"createTime",sortable:!0},{label:"更新时间",prop:"updateTime",sortable:!0},{label:"排序",prop:"sort",sortable:!0},{label:"车号",prop:"carID",sortable:!0},{label:"邮箱",prop:"email",sortable:!0},{label:"密码",prop:"password",sortable:!0},{label:"状态",prop:"status",sortable:!0,component:{name:"cl-switch"}},{label:"PLUS",prop:"isPlus",component:{name:"cl-switch"}},{label:"session",prop:"officialSession",sortable:!0,showOverflowTooltip:!0},{label:"备注",prop:"remark",sortable:!0,showOverflowTooltip:!0},{type:"op",buttons:["edit","delete"]}]}),c=e.useCrud({service:r.chatgpt.session},(e=>{e.refresh()}));return(e,o)=>{const r=p("cl-refresh-btn"),t=p("cl-add-btn"),b=p("cl-multi-delete-btn"),d=p("cl-flex1"),j=p("cl-search-key"),f=p("cl-row"),k=p("cl-table"),v=p("cl-pagination"),h=p("cl-upsert"),w=p("cl-crud");return a(),i(w,{ref_key:"Crud",ref:c},{default:n((()=>[m(f,null,{default:n((()=>[m(r),m(t),m(b),m(d),m(j)])),_:1}),m(f,null,{default:n((()=>[m(k,{ref_key:"Table",ref:u},null,512)])),_:1}),m(f,null,{default:n((()=>[m(d),m(v)])),_:1}),m(h,{ref_key:"Upsert",ref:l},null,512),m(s,{"public-key":e.publicKey,mode:"lightbox",arkosUrl:"",onOnCompleted:o[0]||(o[0]=o=>e.onCompleted(o)),onOnError:o[1]||(o[1]=o=>e.onError(o))},null,8,["public-key"])])),_:1},512)}}});export{c as default};
