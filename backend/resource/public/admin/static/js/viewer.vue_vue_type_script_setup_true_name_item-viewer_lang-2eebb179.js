import{f as e,e as a}from"./index-dd9d36be.js";import{y as o}from"./lodash-es-fd5b777b.js";import{d as t,W as i,o as n,c as r,I as l,M as s}from"./@vue.runtime-core-6173334e.js";import{r as u}from"./@vue.reactivity-54707199.js";const m=[{label:"图片",value:"image",format:["bmp","jpg","jpeg","png","tif","gif","svg","webp"],color:"#67C23A"},{label:"视频",value:"video",format:["avi","wmv","mpg","mpeg","mov","rm","ram","swf","flv","mp4"],color:"#409EFF"},{label:"音频",value:"audio",format:["mp3","wav","wma","mp2","flac","midi","ra","ape","aac","cda"],color:"#E6A23C"},{label:"文件",value:"file",format:[],color:"#909399"}];function f(e){if(!e)return"";const a=1024;return e<a?e+"B":e<Math.pow(a,2)?(e/a).toFixed(2)+"K":e<Math.pow(a,3)?(e/Math.pow(a,2)).toFixed(2)+"M":e<Math.pow(a,4)?(e/Math.pow(a,3)).toFixed(2)+"G":(e/Math.pow(a,4)).toFixed(2)+"T"}function p(a){return e(a.substring(a.indexOf("_")+1))}function c(e){return m.find((o=>o.format.find((o=>o==a(e).toLocaleLowerCase()))))||o(m)}function v(e){return m.find((a=>a.value==e))}function d(e){return e.map((e=>e.url.replace(/,/g,encodeURIComponent(",")))).join(",")}const w={class:"item-viewer"},g=t({name:"item-viewer"}),x=t({...g,setup(e,{expose:a}){const o=u(!1),t=u([]),m=u(0);function f(){o.value=!1}return a({open:function(e,a){o.value=!0,t.value=a,m.value=a.findIndex((a=>a==e))}}),(e,a)=>{const u=i("el-image-viewer");return n(),r("div",w,[o.value?(n(),l(u,{key:0,"url-list":t.value,"initial-index":m.value,infinite:"",teleported:"",onClose:f},null,8,["url-list","initial-index"])):s("",!0)])}}});export{x as _,v as a,f as b,c,p as f,d as g};
